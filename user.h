#pragma once
#include <string>

enum class Role { USER, ADMIN };

class User {
public:
    std::string username;
    std::string password_hash;
    std::string full_name;
    std::string email;
    std::string phone;
    Role role;
    bool isAutoGeneratedPwd;

    User() = default;
    User(std::string user, std::string pwd_hash, std::string name, std::string email, std::string phone, Role r, bool isAutoPwd);

    std::string serialize() const;
    static User deserialize(const std::string& line);
    bool updateInfo(const std::string& newFullName, const std::string& newEmail, const std::string& newPhone);
};